<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at 2013-3-6 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>s-tea - CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130306" />
    <meta http-equiv="Content-Language" content="zh" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                s-tea
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">最近更新: 2013-03-06</span>
                  &nbsp;| <span id="projectVersion">版本: 2.0</span>
                      </div>
            <div class="xright">                    <a href="./" title="s-tea">s-tea</a>
              
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                          <h5>项目文档</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="项目信息">项目信息</a>
                  </li>
                                                                                                                                                      <li class="expanded">
                          <a href="project-reports.html" title="项目报表">项目报表</a>
                    <ul>
                      <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="xref/index.html" title="Source Xref">Source Xref</a>
            </li>
                      <li class="none">
            <strong>CPD Report</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD Report">PMD Report</a>
            </li>
                      <li class="none">
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">Cobertura Test Coverage</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="构建依靠 Maven" class="poweredBy">
        <img class="poweredBy" alt="构建依靠 Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>CPD Results<a name="CPD_Results"></a></h2><p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.0.2.</p></div><div class="section"><h2>Duplications<a name="Duplications"></a></h2><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\runner\BaseJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/BaseJUnitAutoRunner.html#31">31</a></td></tr><tr class="a"><td>org\sky\auto\runner\DefaultJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/DefaultJUnitAutoRunner.html#33">33</a></td></tr><tr class="b"><td colspan='2'><div><pre>	public BaseJUnitAutoRunner(final Class&lt;?&gt; klass)
			throws InitializationError {
		super(klass);
		setScheduler(new RunnerScheduler() {
			ExecutorService executorService = Executors.newFixedThreadPool(
                    klass.isAnnotationPresent(ThreadRunner.class) ?
                            klass.getAnnotation(ThreadRunner.class).threads() :
                            (int) (Runtime.getRuntime().availableProcessors() * 1.5),
                    new NamedThreadFactory(klass.getSimpleName()));
            CompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(executorService);
            Queue&lt;Future&lt;Void&gt;&gt; tasks = new LinkedList&lt;Future&lt;Void&gt;&gt;();
			
			public void schedule(Runnable childStatement) {
				tasks.offer(completionService.submit(childStatement, null));
			}
			
			
			public void finished() {
				try {
                    while (!tasks.isEmpty())
                        tasks.remove(completionService.take());
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                } finally {
                    while (!tasks.isEmpty())
                        tasks.poll().cancel(true);
                    executorService.shutdownNow();
                }
			}
			
		});
	}
	static final class NamedThreadFactory implements ThreadFactory {
        static final AtomicInteger poolNumber = new AtomicInteger(1);
        final AtomicInteger threadNumber = new AtomicInteger(1);
        final ThreadGroup group;

        NamedThreadFactory(String poolName) {
            group = new ThreadGroup(poolName + &quot;-&quot; + poolNumber.getAndIncrement());
        }

        
        public Thread newThread(Runnable r) {
            return new Thread(group, r, group.getName() + &quot;-thread-&quot; + threadNumber.getAndIncrement(), 0);
        }
    }
	
	
	protected Statement methodInvoker(FrameworkMethod method, Object test) {
		InterceptorStatement statement = new InterceptorStatement(method, test);
		//statement.addInterceptor(new ThreadLocalResetInterceptor());
		if(test.getClass().isAnnotationPresent(InterceptorClass.class)){
			InterceptorClass anno = test.getClass().getAnnotation(InterceptorClass.class);
			Class&lt;?&gt;[] clazzs = anno.value();
			try{
				for(Class&lt;?&gt; clazz : clazzs){
					statement.addInterceptor((Interceptor)clazz.newInstance());
				}
			}catch(IllegalAccessException ilex){
				ilex.printStackTrace();
			}catch(InstantiationException e){
				e.printStackTrace();
			}
		}
		return statement;
	//	return new InvokeMethod(method, test);
	}
	
	
	
	public void run(RunNotifier rn) {</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#137">137</a></td></tr><tr class="a"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#208">208</a></td></tr><tr class="b"><td colspan='2'><div><pre>			if(xn.getXMLChildElements().size()==0){
				try {
					return browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue()));
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
			}else{
				int index = 0;
				if(xn.getIndex()!=null){
					try{
						index=Integer.parseInt(xn.getIndex());
					}catch(NumberFormatException e){
						logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
						e.printStackTrace();
					}
				}
				try {
					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		} else if(xn.getElement().getParent().getName().equals(&quot;frame&quot;)){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#130">130</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#200">200</a></td></tr><tr class="b"><td colspan='2'><div><pre>			if(xn.getXMLChildElements().size()==0){
				try {
					return AutoBase.driver().findElements(xtj.locator(xn.getBy(), xn.getValue()));
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
			}else{
				int index = 0;
				if(xn.getIndex()!=null){
					try{
						index=Integer.parseInt(xn.getIndex());
					}catch(NumberFormatException e){
						logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
						e.printStackTrace();
					}
				}
				try {
					we=AutoBase.driver().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		} else if(xn.getElement().getParent().getName().equals(&quot;frame&quot;)){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#155">155</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#148">148</a></td></tr><tr class="b"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		} else if(xn.getElement().getParent().getName().equals(&quot;frame&quot;)){
			int pindex = 0;
			XMLFrame xf = new XMLFrame();
			xf.setElement(xn.getElement().getParent());
			if(xf.getIndex()!=null){
				try{
					pindex=Integer.parseInt(xn.getIndex());
				}catch(NumberFormatException e){
					logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
			}
			try{</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#226">226</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#218">218</a></td></tr><tr class="b"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		}
		
		return null;
	}
	
	public String getPath() {
		return path;
	}
	public void setPath(String path) {
		this.path = path;
	}
	
	public SElement sElement(String id,String path){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\browser\element\PageContorl.java</td><td><a href="./xref/org/sky/auto/browser/element/PageContorl.html#153">153</a></td></tr><tr class="a"><td>org\sky\auto\browser\element\PageContorl.java</td><td><a href="./xref/org/sky/auto/browser/element/PageContorl.html#191">191</a></td></tr><tr class="b"><td colspan='2'><div><pre>		if(getLocatorValue()==null){
			switch(locator){
			case Id:
				this.element=getLocatorValue().findElements(By.id(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Xpath:
				this.element=getLocatorValue().findElements(By.xpath(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case LinkText:
				this.element=getLocatorValue().findElements(By.linkText(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case PartialLinkText:
				this.element=getLocatorValue().findElements(By.partialLinkText(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case TagName:
				this.element=getLocatorValue().findElements(By.tagName(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Class:
				this.element=getLocatorValue().findElements(By.className(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Css:
				this.element=getLocatorValue().findElements(By.cssSelector(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Name:
				this.element=getLocatorValue().findElements(By.name(value)).get(index);
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			default:
				logger.error(&quot;&#x5b9a;&#x4f4d;&#x65b9;&#x5f0f;&#x9009;&#x62e9;&#x9519;&#x8bef;&#xff01;&#x6ca1;&#x6709;&#x52a0;&#x5165;&#x6210;&#x529f;&#xff01;&quot;);
				throw new MyAutoException(&quot;&#x9009;&#x62e9;&#x7684;&#x5b9a;&#x4f4d;&#x65b9;&#x5f0f;&#x4e0d;&#x652f;&#x6301;&#xff01;&quot;);
			}
		}else{</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\runner\BaseJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/BaseJUnitAutoRunner.html#31">31</a></td></tr><tr class="a"><td>org\sky\auto\runner\DefaultJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/DefaultJUnitAutoRunner.html#33">33</a></td></tr><tr class="b"><td>org\sky\auto\runner\MyJUnitThreadRunner.java</td><td><a href="./xref/org/sky/auto/runner/MyJUnitThreadRunner.html#21">21</a></td></tr><tr class="a"><td colspan='2'><div><pre>	public BaseJUnitAutoRunner(final Class&lt;?&gt; klass)
			throws InitializationError {
		super(klass);
		setScheduler(new RunnerScheduler() {
			ExecutorService executorService = Executors.newFixedThreadPool(
                    klass.isAnnotationPresent(ThreadRunner.class) ?
                            klass.getAnnotation(ThreadRunner.class).threads() :
                            (int) (Runtime.getRuntime().availableProcessors() * 1.5),
                    new NamedThreadFactory(klass.getSimpleName()));
            CompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(executorService);
            Queue&lt;Future&lt;Void&gt;&gt; tasks = new LinkedList&lt;Future&lt;Void&gt;&gt;();
			
			public void schedule(Runnable childStatement) {
				tasks.offer(completionService.submit(childStatement, null));
			}
			
			
			public void finished() {
				try {
                    while (!tasks.isEmpty())
                        tasks.remove(completionService.take());
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                } finally {
                    while (!tasks.isEmpty())
                        tasks.poll().cancel(true);
                    executorService.shutdownNow();
                }
			}
			
		});
	}
	static final class NamedThreadFactory implements ThreadFactory {
        static final AtomicInteger poolNumber = new AtomicInteger(1);
        final AtomicInteger threadNumber = new AtomicInteger(1);
        final ThreadGroup group;

        NamedThreadFactory(String poolName) {
            group = new ThreadGroup(poolName + &quot;-&quot; + poolNumber.getAndIncrement());
        }

        
        public Thread newThread(Runnable r) {
            return new Thread(group, r, group.getName() + &quot;-thread-&quot; + threadNumber.getAndIncrement(), 0);
        }
    }</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#101">101</a></td></tr><tr class="b"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#94">94</a></td></tr><tr class="a"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				}catch(Exception e){
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				if(xn.getXMLChildElements().size()!=0){
					for(XMLChildElement xce:xn.getXMLChildElements()){
						int cindex=0;
						if(xce.getIndex()!=null){
							try{
								cindex=Integer.parseInt(xf.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;child&#x5143;&#x7d20;&quot;+xce.getValue()+&quot;&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
		}
		return we;
	}
	
	public synchronized List&lt;WebElement&gt; elements(String id,String path){
		WebElement we=null;
		XmlToJavaTools xtj = new XmlToJavaTools();
		XMLDocument xd = new XMLDocument(path);
		XMLElements xe = new XMLElements(xd);
		XMLElement xn =xe.getXMLElementOfAll(id);
		if(xn.getElement().getParent().getName().equals(&quot;list&quot;)){
			Window.selectDefaultWindow();
			if(xn.getXMLChildElements().size()==0){
				try {
					return browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue()));</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\runner\MyJUnitThreadRunner.java</td><td><a href="./xref/org/sky/auto/runner/MyJUnitThreadRunner.html#22">22</a></td></tr><tr class="b"><td>org\sky\auto\runner\MyJUnitThreadSuitRunner.java</td><td><a href="./xref/org/sky/auto/runner/MyJUnitThreadSuitRunner.html#53">53</a></td></tr><tr class="a"><td colspan='2'><div><pre>		super(klass);
		setScheduler(new RunnerScheduler() {
			ExecutorService executorService = Executors.newFixedThreadPool(
                    klass.isAnnotationPresent(ThreadRunner.class) ?
                            klass.getAnnotation(ThreadRunner.class).threads() :
                            (int) (Runtime.getRuntime().availableProcessors() * 1.5),
                    new NamedThreadFactory(klass.getSimpleName()));
            CompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(executorService);
            Queue&lt;Future&lt;Void&gt;&gt; tasks = new LinkedList&lt;Future&lt;Void&gt;&gt;();
			
			public void schedule(Runnable childStatement) {
				tasks.offer(completionService.submit(childStatement, null));
			}
			
			
			public void finished() {
				try {
                    while (!tasks.isEmpty())
                        tasks.remove(completionService.take());
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                } finally {
                    while (!tasks.isEmpty())
                        tasks.poll().cancel(true);
                    executorService.shutdownNow();
                }
			}
			
		});
	}
	
	 static final class NamedThreadFactory implements ThreadFactory {
	        static final AtomicInteger poolNumber = new AtomicInteger(1);
	        final AtomicInteger threadNumber = new AtomicInteger(1);
	        final ThreadGroup group;

	        NamedThreadFactory(String poolName) {
	            group = new ThreadGroup(poolName + &quot;-&quot; + poolNumber.getAndIncrement());
	        }

	        
	        public Thread newThread(Runnable r) {
	            return new Thread(group, r, group.getName() + &quot;-thread-&quot; + threadNumber.getAndIncrement(), 0);
	        }
	    }
	}</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\runner\BaseJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/BaseJUnitAutoRunner.html#33">33</a></td></tr><tr class="b"><td>org\sky\auto\runner\DefaultJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/DefaultJUnitAutoRunner.html#35">35</a></td></tr><tr class="a"><td>org\sky\auto\runner\MyJUnitThreadSuitRunner.java</td><td><a href="./xref/org/sky/auto/runner/MyJUnitThreadSuitRunner.html#53">53</a></td></tr><tr class="b"><td colspan='2'><div><pre>		super(klass);
		setScheduler(new RunnerScheduler() {
			ExecutorService executorService = Executors.newFixedThreadPool(
                    klass.isAnnotationPresent(ThreadRunner.class) ?
                            klass.getAnnotation(ThreadRunner.class).threads() :
                            (int) (Runtime.getRuntime().availableProcessors() * 1.5),
                    new NamedThreadFactory(klass.getSimpleName()));
            CompletionService&lt;Void&gt; completionService = new ExecutorCompletionService&lt;Void&gt;(executorService);
            Queue&lt;Future&lt;Void&gt;&gt; tasks = new LinkedList&lt;Future&lt;Void&gt;&gt;();
			
			public void schedule(Runnable childStatement) {
				tasks.offer(completionService.submit(childStatement, null));
			}
			
			
			public void finished() {
				try {
                    while (!tasks.isEmpty())
                        tasks.remove(completionService.take());
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                } finally {
                    while (!tasks.isEmpty())
                        tasks.poll().cancel(true);
                    executorService.shutdownNow();
                }
			}
			
		});
	}
	static final class NamedThreadFactory implements ThreadFactory {
        static final AtomicInteger poolNumber = new AtomicInteger(1);
        final AtomicInteger threadNumber = new AtomicInteger(1);
        final ThreadGroup group;

        NamedThreadFactory(String poolName) {
            group = new ThreadGroup(poolName + &quot;-&quot; + poolNumber.getAndIncrement());
        }

        
        public Thread newThread(Runnable r) {
            return new Thread(group, r, group.getName() + &quot;-thread-&quot; + threadNumber.getAndIncrement(), 0);
        }
    }</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#155">155</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#218">218</a></td></tr><tr class="b"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		} else if(xn.getElement().getParent().getName().equals(&quot;frame&quot;)){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#226">226</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#148">148</a></td></tr><tr class="b"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
				for(int i=0;i&lt;xn.getXMLChildElements().size();i++){
					if(i==xn.getXMLChildElements().size()-1){
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						try {
							return we.findElements(xtj.locator(xce.getBy(), xce.getValue()));
						} catch (Exception e) {
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}else{
						int cindex =0;
						XMLChildElement xce = xn.getXMLChildElements().get(i);
						if(xce.getIndex()!=null){
							try{
								index=Integer.parseInt(xn.getIndex());
							}catch(NumberFormatException e){
								logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xce.getBy(), xce.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
							e.printStackTrace();
						}
					}
				}
			}
		}</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#49">49</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#43">43</a></td></tr><tr class="b"><td colspan='2'><div><pre>					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}	
				if(((XMLElement) xn).getXMLChildElements().size()!=0){
					for(XMLChildElement xc : ((XMLElement)xn).getXMLChildElements()){
						int cindex=0;
						if(xc.getIndex()!=null){
							try{
								cindex=Integer.parseInt(xc.getIndex());
							}catch(NumberFormatException e1){
								logger.error(&quot;child&#x5143;&#x7d20;[&quot;+xc.getValue()+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
								e1.printStackTrace();
							}
						}
						try{
							we=we.findElements(xtj.locator(xc.getBy(), xc.getValue())).get(cindex);
						}catch(Exception e){
							logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;child&#x5143;&#x7d20;&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
						}
					}
				}
			}else{
				XMLFrame xf = new XMLFrame();
				xf.setElement(xn.getElement().getParent());
				int pindex=0;
				if(xf.getIndex()!=null){
					try{
						pindex=Integer.parseInt(xf.getIndex());
					}catch(NumberFormatException e){
						logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
						e.printStackTrace();
					}
				}
				try{</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLElements.java</td><td><a href="./xref/org/sky/auto/xml/XMLElements.html#33">33</a></td></tr><tr class="a"><td>org\sky\auto\xml\XMLList.java</td><td><a href="./xref/org/sky/auto/xml/XMLList.html#19">19</a></td></tr><tr class="b"><td colspan='2'><div><pre>	public List&lt;XMLElement&gt; getXMLElementList(){
		List&lt;XMLElement&gt; elist = new ArrayList&lt;XMLElement&gt;();
		Iterator&lt;?&gt; iter = e.elementIterator(&quot;element&quot;);
		while(iter.hasNext()){
			Element ee=(Element) iter.next();
			if(ee.getParent().isRootElement()){
				XMLElement xe = new XMLElement();
				xe.setElement(ee);
				elist.add(xe);
			}
		}
		return elist;
	}
	
	public XMLElement getXMLElement(String id){
		for(XMLElement xe:getXMLElementList()){
			if(xe.getElement().attributeValue(&quot;id&quot;).equals(id)){
				return xe;
			}
		}
		return null;
	}
	
	public List&lt;XMLFrame&gt; getXMLFrameList(){
		List&lt;XMLFrame&gt; elist = new ArrayList&lt;XMLFrame&gt;();
		Iterator&lt;?&gt; iter = e.elementIterator(&quot;frame&quot;);
		while(iter.hasNext()){
			Element ee=(Element) iter.next();
			if(ee.getParent().isRootElement()){
				XMLFrame xf = new XMLFrame();
				xf.setElement(ee);
				elist.add(xf);
			}
		}
		return elist;
	}
	
	public XMLFrame getXMLFrame(String id){
		for(XMLFrame xf : getXMLFrameList()){
			if(xf.getElement().attributeValue(&quot;id&quot;).equals(id)){
				return xf;
			}
		}
		return null;
	}</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\browser\element\PageContorl.java</td><td><a href="./xref/org/sky/auto/browser/element/PageContorl.html#69">69</a></td></tr><tr class="a"><td>org\sky\auto\browser\element\PageContorl.java</td><td><a href="./xref/org/sky/auto/browser/element/PageContorl.html#107">107</a></td></tr><tr class="b"><td colspan='2'><div><pre>		if(getLocatorValue()==null){
			switch(locator){
			case Id:
				this.element=getLocatorValue().findElement(By.id(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Xpath:
				this.element=getLocatorValue().findElement(By.xpath(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case LinkText:
				this.element=getLocatorValue().findElement(By.linkText(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case PartialLinkText:
				this.element=getLocatorValue().findElement(By.partialLinkText(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case TagName:
				this.element=getLocatorValue().findElement(By.tagName(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Class:
				this.element=getLocatorValue().findElement(By.className(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Css:
				this.element=getLocatorValue().findElement(By.cssSelector(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			case Name:
				this.element=getLocatorValue().findElement(By.name(value));
				ProxyRunnerListener.getDispatcher().afteraddLocator();
				break;
			default:
				logger.error(&quot;&#x5b9a;&#x4f4d;&#x65b9;&#x5f0f;&#x9009;&#x62e9;&#x9519;&#x8bef;&#xff01;&#x6ca1;&#x6709;&#x52a0;&#x5165;&#x6210;&#x529f;&#xff01;&quot;);
				throw new MyAutoException(&quot;&#x9009;&#x62e9;&#x7684;&#x5b9a;&#x4f4d;&#x65b9;&#x5f0f;&#x4e0d;&#x652f;&#x6301;&#xff01;&quot;);
			}
		}else{</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\runner\BaseJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/BaseJUnitAutoRunner.html#104">104</a></td></tr><tr class="a"><td>org\sky\auto\runner\DefaultJUnitAutoRunner.java</td><td><a href="./xref/org/sky/auto/runner/DefaultJUnitAutoRunner.html#106">106</a></td></tr><tr class="b"><td colspan='2'><div><pre>		if(getDescription().getAnnotation(JUnitRunListener.class)!=null){
			JUnitRunListener jrl = getDescription().getAnnotation(JUnitRunListener.class);
			Class&lt;?&gt;[] rls = jrl.value();
			for(Class&lt;?&gt; rl : rls){
				try {
					rn.addListener((RunListener) rl.newInstance());
				} catch (InstantiationException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				} catch (IllegalAccessException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
		}
		if(ProxyJUnitRunListener.dispatcher().size()!=0){
			for(RunListener rl:ProxyJUnitRunListener.dispatcher()){
				rn.addListener(rl);
			}
		}
		Set&lt;Class&lt;?&gt;&gt; cls = ClassPool.getClassPool();
		for(Class&lt;?&gt;clazz : cls){
			if(clazz.isAnnotationPresent(RunListenerRegister.class)){
				try {
					ProxyJUnitRunListener.register((RunListener) clazz.newInstance());
				} catch (InstantiationException e) {
					e.printStackTrace();
				} catch (IllegalAccessException e) {
					e.printStackTrace();
				}
			}
		}
		
		
		super.run(rn);
	}
}</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\xml\XMLElement.java</td><td><a href="./xref/org/sky/auto/xml/XMLElement.html#17">17</a></td></tr><tr class="a"><td>org\sky\auto\xml\XMLFrame.java</td><td><a href="./xref/org/sky/auto/xml/XMLFrame.html#17">17</a></td></tr><tr class="b"><td colspan='2'><div><pre>	public Element getElement() {
		return e;
	}
	public void setElement(Element e) {
		this.e = e;
	}
	
	@SuppressWarnings(&quot;unchecked&quot;)
	public Map&lt;String,String&gt; getAttributes(){
		Map&lt;String,String&gt; amap = new HashMap&lt;String,String&gt;();
		List&lt;Attribute&gt; alist = getElement().attributes();
		for(int i=0;i&lt;alist.size();i++){
			amap.put(alist.get(i).getName(), alist.get(i).getValue());
		}
		return amap;
	}
	
	public String getId(){
		return getAttributes().get(&quot;id&quot;);
	}
	
	public String getValue(){
		return getAttributes().get(&quot;value&quot;);
	}
	
	public String getIndex(){
		return getAttributes().get(&quot;index&quot;);
	}
	
	public String getBy(){
		return getAttributes().get(&quot;by&quot;);
	}
	
	@SuppressWarnings(&quot;unchecked&quot;)
	public List&lt;Attribute&gt; getAttributeList(){
		return getElement().attributes();
	}
	
	public List&lt;XMLChildElement&gt; getXMLChildElements(){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\browser\element\ComoboBox.java</td><td><a href="./xref/org/sky/auto/browser/element/ComoboBox.html#113">113</a></td></tr><tr class="a"><td>org\sky\auto\element\ComoboBox.java</td><td><a href="./xref/org/sky/auto/element/ComoboBox.html#134">134</a></td></tr><tr class="b"><td colspan='2'><div><pre>		}
	}
	/**&#x5982;&#x679c;&#x9009;&#x62e9;&#x4e86;&#x591a;&#x9879;&#xff0c;&#x90a3;&#x4e48;&#x4f7f;&#x7528;&#x6b64;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x83b7;&#x5f97;&#x591a;&#x4e2a;&#x9009;&#x9879;&#x7684;&#x7d22;&#x5f15;&#x503c;*/
	public int[] getSelectedIndexs(){
		int[] indexs = null;
		if(isExist()){
			List&lt;WebElement&gt; selectedItems =getSelect().getAllSelectedOptions();
			List&lt;WebElement&gt; allItems = getSelect().getOptions();
			indexs=new int[selectedItems.size()];
			for(int i=0;i&lt;selectedItems.size();i++){
				for(int j=0;j&lt;selectedItems.size();j++){
					if(selectedItems.get(i).equals(allItems.get(j))){
						indexs[i]=j;break;
					}
				}
			}
			logger.info(&quot;&#x83b7;&#x5f97;&#x5168;&#x90e8;&#x9009;&#x4e2d;&#x9879;&#x5185;&#x5bb9;&#x6210;&#x529f;&quot;);
			return indexs;	
		}else{
			logger.error(&quot;&#x5143;&#x7d20;&#x6ca1;&#x6709;&#x627e;&#x5230;&#xff0c;&#x83b7;&#x5f97;&#x7d22;&#x5f15;&#x503c;&#x5931;&#x8d25;&#xff01;&quot;);</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\mail\SimpleMailSender.java</td><td><a href="./xref/org/sky/auto/mail/SimpleMailSender.html#28">28</a></td></tr><tr class="a"><td>org\sky\auto\mail\SimpleMailSender.java</td><td><a href="./xref/org/sky/auto/mail/SimpleMailSender.html#111">111</a></td></tr><tr class="b"><td colspan='2'><div><pre>	    public boolean sendTextMail(MailSenderInfo mailInfo) {   
	      // &#x5224;&#x65ad;&#x662f;&#x5426;&#x9700;&#x8981;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;   
	      SimpleAuthenticator authenticator = null;   
	      Properties pro = mailInfo.getProperties();  
	      if (mailInfo.isValidate()) {   
	      // &#x5982;&#x679c;&#x9700;&#x8981;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;&#xff0c;&#x5219;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5bc6;&#x7801;&#x9a8c;&#x8bc1;&#x5668;   
	        authenticator = new SimpleAuthenticator(mailInfo.getUserName(), mailInfo.getPassword());   
	      }  
	      // &#x6839;&#x636e;&#x90ae;&#x4ef6;&#x4f1a;&#x8bdd;&#x5c5e;&#x6027;&#x548c;&#x5bc6;&#x7801;&#x9a8c;&#x8bc1;&#x5668;&#x6784;&#x9020;&#x4e00;&#x4e2a;&#x53d1;&#x9001;&#x90ae;&#x4ef6;&#x7684;session   
	      Session sendMailSession = Session.getDefaultInstance(pro,authenticator);   
	      try {   
	      // &#x6839;&#x636e;session&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x90ae;&#x4ef6;&#x6d88;&#x606f;   
	      Message mailMessage = new MimeMessage(sendMailSession);   
	      // &#x521b;&#x5efa;&#x90ae;&#x4ef6;&#x53d1;&#x9001;&#x8005;&#x5730;&#x5740;   
	      Address from = new InternetAddress(mailInfo.getFromAddress());   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x7684;&#x53d1;&#x9001;&#x8005;   
	      mailMessage.setFrom(from);   
	      // &#x521b;&#x5efa;&#x90ae;&#x4ef6;&#x7684;&#x63a5;&#x6536;&#x8005;&#x5730;&#x5740;&#xff0c;&#x5e76;&#x8bbe;&#x7f6e;&#x5230;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x4e2d;   
	      Address to = new InternetAddress(mailInfo.getToAddress());   
	      mailMessage.setRecipient(Message.RecipientType.TO,to);   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x7684;&#x4e3b;&#x9898;   
	      mailMessage.setSubject(mailInfo.getSubject());   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x53d1;&#x9001;&#x7684;&#x65f6;&#x95f4;   
	      mailMessage.setSentDate(new Date());   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x7684;&#x4e3b;&#x8981;&#x5185;&#x5bb9;   
	      String mailContent = mailInfo.getContent();   
	      mailMessage.setText(mailContent);   </pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\base\MyFile.java</td><td><a href="./xref/org/sky/auto/base/MyFile.html#190">190</a></td></tr><tr class="a"><td>org\sky\auto\intrumentation\FileFinder.java</td><td><a href="./xref/org/sky/auto/intrumentation/FileFinder.html#25">25</a></td></tr><tr class="b"><td colspan='2'><div><pre>		if (f.isDirectory() &amp;&amp; isDepth == true) {

			File[] t = f.listFiles();

			for (int i = 0; i &lt; t.length; i++) {

				listFile(t[i], suffix, isDepth);

			}
		} else {

			String filePath = f.getAbsolutePath();

			if (suffix != null) {

				int begIndex = filePath.lastIndexOf(&quot;.&quot;);

				String tempsuffix = &quot;&quot;;

				if (begIndex != -1) {

					tempsuffix = filePath.substring(begIndex + 1,
							filePath.length());

				}
				if (tempsuffix.equals(suffix)) {

					fileList.add(filePath);// 
				}
			}
		}

		return fileList;

	}</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>org\sky\auto\mail\SimpleMailSender.java</td><td><a href="./xref/org/sky/auto/mail/SimpleMailSender.html#28">28</a></td></tr><tr class="a"><td>org\sky\auto\mail\SimpleMailSender.java</td><td><a href="./xref/org/sky/auto/mail/SimpleMailSender.html#68">68</a></td></tr><tr class="b"><td>org\sky\auto\mail\SimpleMailSender.java</td><td><a href="./xref/org/sky/auto/mail/SimpleMailSender.html#111">111</a></td></tr><tr class="a"><td colspan='2'><div><pre>	    public boolean sendTextMail(MailSenderInfo mailInfo) {   
	      // &#x5224;&#x65ad;&#x662f;&#x5426;&#x9700;&#x8981;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;   
	      SimpleAuthenticator authenticator = null;   
	      Properties pro = mailInfo.getProperties();  
	      if (mailInfo.isValidate()) {   
	      // &#x5982;&#x679c;&#x9700;&#x8981;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;&#xff0c;&#x5219;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5bc6;&#x7801;&#x9a8c;&#x8bc1;&#x5668;   
	        authenticator = new SimpleAuthenticator(mailInfo.getUserName(), mailInfo.getPassword());   
	      }  
	      // &#x6839;&#x636e;&#x90ae;&#x4ef6;&#x4f1a;&#x8bdd;&#x5c5e;&#x6027;&#x548c;&#x5bc6;&#x7801;&#x9a8c;&#x8bc1;&#x5668;&#x6784;&#x9020;&#x4e00;&#x4e2a;&#x53d1;&#x9001;&#x90ae;&#x4ef6;&#x7684;session   
	      Session sendMailSession = Session.getDefaultInstance(pro,authenticator);   
	      try {   
	      // &#x6839;&#x636e;session&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x90ae;&#x4ef6;&#x6d88;&#x606f;   
	      Message mailMessage = new MimeMessage(sendMailSession);   
	      // &#x521b;&#x5efa;&#x90ae;&#x4ef6;&#x53d1;&#x9001;&#x8005;&#x5730;&#x5740;   
	      Address from = new InternetAddress(mailInfo.getFromAddress());   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x7684;&#x53d1;&#x9001;&#x8005;   
	      mailMessage.setFrom(from);   
	      // &#x521b;&#x5efa;&#x90ae;&#x4ef6;&#x7684;&#x63a5;&#x6536;&#x8005;&#x5730;&#x5740;&#xff0c;&#x5e76;&#x8bbe;&#x7f6e;&#x5230;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x4e2d;   
	      Address to = new InternetAddress(mailInfo.getToAddress());   
	      mailMessage.setRecipient(Message.RecipientType.TO,to);   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x7684;&#x4e3b;&#x9898;   
	      mailMessage.setSubject(mailInfo.getSubject());   
	      // &#x8bbe;&#x7f6e;&#x90ae;&#x4ef6;&#x6d88;&#x606f;&#x53d1;&#x9001;&#x7684;&#x65f6;&#x95f4;   
	      mailMessage.setSentDate(new Date());   </pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\xml\XMLChildElement.java</td><td><a href="./xref/org/sky/auto/xml/XMLChildElement.html#10">10</a></td></tr><tr class="b"><td>org\sky\auto\xml\XMLFrame.java</td><td><a href="./xref/org/sky/auto/xml/XMLFrame.html#13">13</a></td></tr><tr class="a"><td colspan='2'><div><pre>public class XMLChildElement implements XMLNode{
	private Element e;

	public Element getElement() {
		return e;
	}

	public void setElement(Element e) {
		this.e = e;
	}
	
	@SuppressWarnings(&quot;unchecked&quot;)
	public Map&lt;String,String&gt; getAttributes(){
		Map&lt;String,String&gt; amap = new HashMap&lt;String,String&gt;();
		List&lt;Attribute&gt; alist = getElement().attributes();
		for(int i=0;i&lt;alist.size();i++){
			amap.put(alist.get(i).getName(), alist.get(i).getValue());
		}
		return amap;
	}
	
	public String getValue(){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\xml\XMLChildElement.java</td><td><a href="./xref/org/sky/auto/xml/XMLChildElement.html#13">13</a></td></tr><tr class="b"><td>org\sky\auto\xml\XMLElement.java</td><td><a href="./xref/org/sky/auto/xml/XMLElement.html#17">17</a></td></tr><tr class="a"><td colspan='2'><div><pre>	public Element getElement() {
		return e;
	}

	public void setElement(Element e) {
		this.e = e;
	}
	
	@SuppressWarnings(&quot;unchecked&quot;)
	public Map&lt;String,String&gt; getAttributes(){
		Map&lt;String,String&gt; amap = new HashMap&lt;String,String&gt;();
		List&lt;Attribute&gt; alist = getElement().attributes();
		for(int i=0;i&lt;alist.size();i++){
			amap.put(alist.get(i).getName(), alist.get(i).getValue());
		}
		return amap;
	}
	
	public String getValue(){</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#86">86</a></td></tr><tr class="b"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#79">79</a></td></tr><tr class="a"><td colspan='2'><div><pre>					browser.frame(browser.browser().findElements(xtj.locator(xf.getBy(), xf.getValue())).get(pindex));
				}catch(Exception e){
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&#x8fdb;&#x884c;&#x5207;&#x6362;frame&#x7684;&#x65f6;&#x5019;&#x5b9a;&#x4f4d;&#x51fa;&#x9519;&#xff01;&quot;);
					e.printStackTrace();
				}
				int index=0;
				if(xf.getIndex()!=null){
					try{
						index=Integer.parseInt(xf.getIndex());
					}catch(NumberFormatException e){
						logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
						e.printStackTrace();
					}
				}
				try{
					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\browser\element\Table.java</td><td><a href="./xref/org/sky/auto/browser/element/Table.html#33">33</a></td></tr><tr class="b"><td>org\sky\auto\element\Table.java</td><td><a href="./xref/org/sky/auto/element/Table.html#49">49</a></td></tr><tr class="a"><td colspan='2'><div><pre>				content=getLocatorValue().findElement(By.xpath(&quot;.//tr[&quot;+(row)+&quot;]/td{&quot;+(col)+&quot;]&quot;)).getText();
				logger.info(&quot;&#x7b2c;&quot;+(row+1)+&quot;&#x884c;&#xff0c;&#x7b2c;&quot;+(col+1)+&quot;&#x5217;&#x7684;&#x5143;&#x7d20;&#x83b7;&#x53d6;&#x6210;&#x529f;&#xff01;&quot;);
			}catch(Exception e){
				logger.info(&quot;&#x7b2c;&quot;+(row+1)+&quot;&#x884c;&#xff0c;&#x7b2c;&quot;+(col+1)+&quot;&#x5217;&#x7684;&#x5143;&#x7d20;&#x83b7;&#x53d6;&#x5931;&#x8d25;&#xff01;&#x627e;&#x4e0d;&#x5230;&#x8fd9;&#x4e2a;table&#x5143;&#x7d20;&#xff01;&quot;);
			}
			return content;
		}else{
			logger.error(&quot;&#x7b2c;&quot;+(row+1)+&quot;&#x884c;&#xff0c;&#x7b2c;&quot;+(col+1)+&quot;&#x5217;&#x7684;&#x5143;&#x7d20;&#x83b7;&#x53d6;&#x6210;&#x529f;&#xff01;&quot;);</pre></div></td></tr></table><table border="0" class="bodyTable"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#139">139</a></td></tr><tr class="b"><td>org\sky\auto\xml\XMLBrowserProvider.java</td><td><a href="./xref/org/sky/auto/xml/XMLBrowserProvider.html#210">210</a></td></tr><tr class="a"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#132">132</a></td></tr><tr class="b"><td>org\sky\auto\xml\XmlProvider.java</td><td><a href="./xref/org/sky/auto/xml/XmlProvider.html#202">202</a></td></tr><tr class="a"><td colspan='2'><div><pre>					return browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue()));
				} catch (Exception e) {
					logger.error(&quot;&#x5b9a;&#x4f4d;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;&#x65f6;&#x5019;,&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff01;&quot;);
					e.printStackTrace();
				}
			}else{
				int index = 0;
				if(xn.getIndex()!=null){
					try{
						index=Integer.parseInt(xn.getIndex());
					}catch(NumberFormatException e){
						logger.error(&quot;&#x5143;&#x7d20;[&quot;+id+&quot;]&#x7684;index&#x503c;&#x4e0d;&#x80fd;&#x591f;&#x88ab;&#x8f6c;&#x5316;&#x6210;&#x4e3a;int&#x7c7b;&#x578b;&#xff0c;index&#x7684;&#x5c5e;&#x6027;&#x503c;&#x8f93;&#x5165;&#x9519;&#x8bef;&#xff01;&quot;);
						e.printStackTrace();
					}
				}
				try {
					we=browser.browser().findElements(xtj.locator(xn.getBy(), xn.getValue())).get(index);</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2013
                        <a href="www.it168.com">IT168</a>.
            All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
